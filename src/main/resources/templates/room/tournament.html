<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header" />
<body>
<div class="container">
    <div th:replace="fragments/bodyheader" :: bodyheader />
    <table class="table table-striped">
        <thead>
        <tr>
            <th>대회 제목</th>
            <th>대회 방식</th>
            <th>참여 인원수</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td th:text="${roomDto.title}"></td>
            <td th:text="${roomDto.roomType}"></td>
            <td th:text="${roomDto.memNum}"></td>
        </tr>
        </tbody>
    </table>

    <div class="my-2 my-lg-0">
        <a th:href="@{/room}" class="btn btn-warning">목록</a>
    </div>

    <h1>일정</h1>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>라운드</th>
            <th>경기#</th>
            <th> 홈 </th>
            <th></th>
            <th></th>
            <th></th>
            <th> 어웨이 </th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="matchDto, i : ${matchDtos}">
            <td th:text="${matchDto.getRoundNo()}"></td>
            <td th:text="${matchDto.getMatchNo()}"></td>
            <td th:text="${matchDto.getUser1Dto() == null} ? ${matchDto.getRoundNo() - 1} + '라운드 ' + ${matchDto.getMatchNo() * 2} + '경기 승자'
                : ${matchDto.getUser1Dto().getEmail() + '('+ matchDto.getUser1Dto().getName() + ')'}"></td>
            <td th:text="${matchDto.getScore().getUser1Score()}"></td>
            <td>:</td>
            <td th:text="${matchDto.getScore().getUser2Score()}"></td>
            <td th:text="${matchDto.getUser2Dto() == null} ? ${matchDto.getRoundNo() - 1} + '라운드' + ${matchDto.getMatchNo() * 2 + 1} + '경기 승자'
                : ${matchDto.getUser2Dto().getEmail() + '('+ matchDto.getUser2Dto().getName() + ')'}"></td>
            <td th:text="${matchDto.getMatchStatus().getDescription()}"></td>
            <td>
                <input type="button" class="btn btn-primary" th:value="'수정'" th:onclick="|location.href='@{/match/{matchId}(matchId=${matchDto.id})}'|" th:disabled="${matchDto.user1Dto == null} or ${matchDto.user2Dto == null}"/>
<!--                    <button class="btn btn-primary" th:disabled="|${matchDto.user1Dto == null} or ${matchDto.user2Dto == null}|">수정</button>-->
            </td>
        </tr>
        </tbody>
    </table>
    <div th:replace="fragments/footer" :: footer />
</div> <!-- /container -->
</body>
</html>